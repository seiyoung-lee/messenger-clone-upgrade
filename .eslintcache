[{"/Users/mush/Desktop/cleverProgrammerClones/messenger-clone/src/reportWebVitals.js":"1","/Users/mush/Desktop/cleverProgrammerClones/messenger-clone/src/App.js":"2","/Users/mush/Desktop/cleverProgrammerClones/messenger-clone/src/Message.jsx":"3","/Users/mush/Desktop/cleverProgrammerClones/messenger-clone/src/firebase.js":"4"},{"size":362,"mtime":1607612148845,"results":"5","hashOfConfig":"6"},{"size":2608,"mtime":1607809177075,"results":"7","hashOfConfig":"6"},{"size":878,"mtime":1607807579380,"results":"8","hashOfConfig":"6"},{"size":510,"mtime":1607798124753,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"18ulnd0",{"filePath":"12","messages":"13","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14"},{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/mush/Desktop/cleverProgrammerClones/messenger-clone/src/reportWebVitals.js",[],"/Users/mush/Desktop/cleverProgrammerClones/messenger-clone/src/App.js",["19","20","21"],"import React, {useState, useEffect, useRef} from 'react';\nimport { Button, FormControl, InputLabel, Input} from '@material-ui/core'\nimport './App.css';\nimport Message from './Message';\nimport db from './firebase';\nimport firebase from 'firebase';\nimport FlipMove from 'react-flip-move';\nimport SendIcon from '@material-ui/icons/Send';\nimport IconButton from '@material-ui/core/IconButton';\nimport { animateScroll } from \"react-scroll\";\n\n\nfunction App() {\n  const [input, setInput] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [username, setUsername] = useState(\"\");\n\n  const messagesEndRef = useRef(null);\n\n  const sendMessage = (event) => {\n    //all the logic to send a message\n    event.preventDefault();\n    if(input !== \"\") {\n      db.collection('messages').add({\n        text: input, \n        user : username,\n        timestamp: firebase.firestore.FieldValue.serverTimestamp()\n      })\n      setInput('');\n      updateScroll(); \n    }\n  }\n\n  \n\n  const updateScroll = () => {\n    messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" })\n  }\n\n  useEffect(() => {\n    if(messagesEndRef) {\n      updateScroll();\n    }\n  }, [messages])\n  \n  useEffect(() => {\n    db.collection('messages')\n    .orderBy('timestamp')\n    .onSnapshot(ss  => {\n      setMessages(ss.docs.map(doc => ({id: doc.id, message: doc.data()})))\n    })\n  },[])\n\n  useEffect(() => {\n    setUsername(prompt('Please enter your name'));\n    updateScroll();\n  }, [])\n\n\n\n  return (\n    <div className=\"App\">\n      <img src = \"https://facebookbrand.com/wp-content/uploads/2020/10/Logo_Messenger_NewBlurple-399x399-1.png?w=100&h=100\" alt = \"messenger logo\"/>\n      <h1> Messenger Clone </h1>\n      <h2> Welcome {username} </h2>\n      <center>\n        <div className = \"app__messages\" id = \"app__messages\">\n          <FlipMove>\n            {\n              messages.map(({message, id}) => (\n                  <Message key = {id} name = {username} message = {message} />\n              ))\n            }\n          </FlipMove>\n          <div id={'messagesEndRef'} ref={messagesEndRef} />\n        </div>\n        <form className = \"app__form\">\n          <FormControl className = \"app_formControl\">\n            <Input className = \"app__input\"  placeholder = \"Enter a message...\" value = {input} onChange  = {(e) => setInput(e.target.value)}/>\n            <IconButton className = \"app__icon\" variant  = \"contained\" color = \"primary\" type = 'submit' onClick = {sendMessage} >\n              <SendIcon />\n            </IconButton>\n          </FormControl>\n        </form>\n      </center>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/mush/Desktop/cleverProgrammerClones/messenger-clone/src/Message.jsx",[],"/Users/mush/Desktop/cleverProgrammerClones/messenger-clone/src/firebase.js",[],{"ruleId":"22","severity":1,"message":"23","line":2,"column":10,"nodeType":"24","messageId":"25","endLine":2,"endColumn":16},{"ruleId":"22","severity":1,"message":"26","line":2,"column":31,"nodeType":"24","messageId":"25","endLine":2,"endColumn":41},{"ruleId":"22","severity":1,"message":"27","line":10,"column":10,"nodeType":"24","messageId":"25","endLine":10,"endColumn":23},"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'InputLabel' is defined but never used.","'animateScroll' is defined but never used."]